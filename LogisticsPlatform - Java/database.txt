CREATE TABLE DELIVERERS(
ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY,
FNAME VARCHAR(50) NOT NULL,
LNAME VARCHAR(50) NOT NULL,
AGE INT NOT NULL CHECK(AGE>18),
PHONE VARCHAR(30) NOT NULL UNIQUE,
EMAIL VARCHAR(30) NOT NULL UNIQUE,
ADDRESS VARCHAR(60) NOT NULL,
CATEGORY VARCHAR(10) NOT NULL
)

CREATE TABLE SHIPMENT(
ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR(200) NOT NULL,
COMPANY_FROM INT  NOT NULL ,
COMPANY_TO INT NOT NULL,
DELIVERER INT NOT NULL,
ORDER_DATE DATETIME NOT NULL,
DELIVERY_TYPE VARCHAR(20) NOT NULL,
STATUS VARCHAR(30) NOT NULL
)

ALTER TABLE SHIPMENT 
ADD FOREIGN KEY(COMPANY_FROM) REFERENCES COMPANIES(COMPANY_ID) ON UPDATE CASCADE ON DELETE NO ACTION

ALTER TABLE SHIPMENT 
ADD FOREIGN KEY(COMPANY_TO) REFERENCES COMPANIES(COMPANY_ID)  ON UPDATE CASCADE ON DELETE NO ACTION

ALTER TABLE SHIPMENT 
ADD FOREIGN KEY(DELIVERER) REFERENCES DELIVERERS(ID)  ON UPDATE CASCADE ON DELETE NO ACTION


CREATE TABLE COMPANIES(
COMPANY_ID INT IDENTITY(1,1) NOT NULL PRIMARY KEY,
NAME VARCHAR(50) NOT NULL,
COUNTRY VARCHAR(30) NOT NULL,
CITY VARCHAR(30) NOT NULL,
POSTAL_CODE VARCHAR(12),
ABOUT VARCHAR(60) NOT NULL
)
